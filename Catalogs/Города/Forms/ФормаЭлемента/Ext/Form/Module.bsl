
&НаКлиенте
Процедура ПослеЗаписи(ПараметрыЗаписи)
	НаКлиенте.Оповещение("Город", Объект.Ссылка);
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Объект.Ссылка.Пустая() Тогда
		Если ЗначениеЗаполнено(Объект.Владелец) Тогда
			//
		ИначеЕсли Параметры.ЗначенияЗаполнения.Свойство("Страна") Тогда
			Объект.Владелец = Параметры.ЗначенияЗаполнения.Страна;
		ИначеЕсли Параметры.ПараметрыВыбора.Свойство("Страна") Тогда
			Объект.Владелец = Параметры.ПараметрыВыбора.Страна;
		ИначеЕсли ТипЗнч(Параметры.Основание) = Тип("СправочникСсылка.Страны") Тогда
			Объект.Владелец = Параметры.Основание;
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

&НаСервере
Процедура НаименованиеПриИзмененииНаСервере()
	Если Объект.Ссылка.Пустая()
	И СтрНайти(Объект.Наименование, ",") > 0
	Тогда
		Объект.Наименование	= Лев(Объект.Наименование, СтрНайти(Объект.Наименование, ",") - 1);
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура НаименованиеПриИзменении(Элемент)
	НаименованиеПриИзмененииНаСервере();
КонецПроцедуры
